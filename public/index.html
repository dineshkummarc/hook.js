<html>
<head>
<!--
   NOTICE: The hook.js file is auto-generated from the http://github.com/hookio/browser project
           This file has been copy and pasted into /public/hook.js as a connivence...
-->
<script type="text/javascript" src="hook.js"></script>
<script type="text/javascript" src="jquery.js"></script>
<link rel="stylesheet" href="style.css">

<script type="text/javascript">

    //
    // TODO: Move this to hook-shim, will create magic Hook namespace
    //
    var Hook = require('/hook.js').Hook;
    Hook = new Hook();
    Hook.connect();

    Hook.on('ready', function(){

      //
      // Remark: Use Hook.anAny to capture all Hook events for debugging
      //
      Hook.onAny(function(data){
        $('#pipe').prepend('<li>' + this.event + '</li>');
        console.log(this.event, data);
      });

      Hook.emit('hello', 'i am browser!');

      //
      // Remark: Some people enjoy getting callbacks for messages
      //
      Hook.emit('cakeRequest', 'Cake please?', function(err, result){
        console.log(result);
      });

      Hook.emit('cakeRequest', 'I DEMAND CAKE', function(err, result){
        console.log(result);
      });


    });

</script>

</head>
<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="container-fluid">
        <h3>
          <a href="/">hookjs.nodejitsu.com</a>
        </h3>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="sidebar">
      <div class="well">
        <h5>Current pipe: <span id="mypipe"></span></h5>
        <ul id="pipe">
        </ul>
        <h5>Other available pipes:</h5>
        <ul>
          <li>Pipe 1</li>
          <li>Pipe 2</li>
          <li>Pipe 3</li>
        </ul>
        <h5>Available Interfaces:</h5>
        <ul>
          <li>Webserver (this page)</li>
          <li>Webhook</li>
          <li>Feed</li>
        </ul>
      </div>
    </div>
    <div class="content">
      <pre class="well">
        hook.js - the easiest way to build real-time web applications

        Just include this on any page:
      
          &lt;script type="text/javascript" src="http://hookjs.com/hook.js"&gt;&lt;/script&gt;

        Now you have access to the "hook" object. The hook object is special object which
        gives you the ability to seamlessly call server events from the browser and browser events from the server.
      </pre>

      <pre class="well">
        <textarea cols="80" rows="10" class="span16">
// Browser
hook.emit('hello', function(err, result){
  // outputs 'sup'
  console.log(result);
});

// Server
hook.on('hello', function(callback){
  callback(null, 'sup');
});
        </textarea>
      </pre>
    </div>
    <footer>
      <p>Copyright &copy; 2011, Hook.js</p>
    </footer>
  </div>
</body>
</html>
